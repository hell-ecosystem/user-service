# User Service

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.  
–ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ email/password –∏–ª–∏ Telegram, –∏ –ø–æ–ª—É—á–∞—Ç—å Access Token –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–æ–π.

---

## üì¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Golang 1.22+**
- **PostgreSQL** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Redis** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ refresh-—Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ `auth-service`
- **JWT** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Access —Ç–æ–∫–µ–Ω–æ–≤
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**: [`hell-ecosystem/auth-service`](https://github.com/hell-ecosystem/auth-service)

---

## üìö –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–ª–æ—ë–≤

```plaintext
cmd/main.go                  ‚Äî –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
internal/config/             ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
internal/delivery/http/      ‚Äî http-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
internal/service/            ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
internal/repository/postgres/‚Äî —Ä–∞–±–æ—Ç–∞ —Å PostgreSQL
internal/model/              ‚Äî –º–æ–¥–µ–ª–∏ DTO
migrations/                  ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
```

## üîë –§–æ—Ä–º–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### `POST /register`

–û–ø–∏—Å–∞–Ω–∏–µ: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Request**:

```json
{
  "email": "user@example.com",
  "password": "password123"
}
```

**Response**:
`<access_token>`

### `POST /login`

–û–ø–∏—Å–∞–Ω–∏–µ: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ email –∏ –ø–∞—Ä–æ–ª—é.

**Request**:

```json
{
  "email": "user@example.com",
  "password": "password123"
}
```

**Response**:
`<access_token>`

### `POST /telegram?id={telegram_id}`

–û–ø–∏—Å–∞–Ω–∏–µ: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Telegram.

**Request**:

–í query –ø–∞—Ä–∞–º–µ—Ç—Ä–µ: `id=123456789`

**Response**:
`<access_token>`

## üöÄ –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

- –î–æ–±–∞–≤–∏—Ç—å refresh —Ç–æ–∫–µ–Ω—ã –¥–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–π
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /me –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –†–∞—Å—à–∏—Ä–∏—Ç—å —Ä–æ–ª–∏ (admin, moderator)
- –í—ã–Ω–µ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥–∏ Redis/JWT –≤ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π config
- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É OAuth (Google, GitHub)
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ç—Ä–µ–π—Å–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏ (Prometheus, OpenTelemetry)
